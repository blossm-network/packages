domain: group
service: core

schema:
  identities: [String]
  contexts: [String]

testing:
  examples:
    - action: add-identities
      payload:
        identities: [some-identity-root]
    - action: add-contexts
      payload:
        contexts: [some-context-root]

  handlers:
    - action: add-identities
      examples:
        - state:
            identities: [some-identity-root]
          payload:
            identities: [some-other-identity-root]
          result:
            identities: [some-identity-root, some-other-identity-root]
        - payload:
            identities: [some-identity-root]
    - action: add-contexts
      examples:
        - state:
            contexts: [some-context-root]
          payload:
            contexts: [some-other-context-root]
          result:
            contexts: [some-context-root, some-other-context-root]
        - payload:
            contexts: [some-context-root]

#don't change
context: event-store
