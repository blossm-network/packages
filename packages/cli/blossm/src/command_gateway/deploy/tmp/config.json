{
  "domain": "challenge",
  "service": "core",
  "commands": [
    { "action": "issue", "permissions": "none" },
    { "action": "answer", "permissions": "none", "key": "challenge" }
  ],
  "whitelist": ["127.0.0.1", "https://${process.env.NETWORK}"],
  "context": "command-gateway",
  "testing": {
    "procedures": [
      { "context": "event-store", "domain": "challenge" },
      {
        "action": "upgrade",
        "domain": "session",
        "context": "command-handler"
      },
      { "domain": "session", "context": "event-store" },
      { "domain": "principle", "context": "event-store" },
      { "domain": "identity", "context": "event-store" },
      {
        "action": "issue",
        "domain": "challenge",
        "context": "command-handler"
      },
      {
        "action": "answer",
        "domain": "challenge",
        "context": "command-handler"
      }
    ],
    "topics": [
      "did-upgrade.session.core",
      "did-issue.challenge.core",
      "did-answer.challenge.core",
      "did-start.session.core",
      "did-register.identity.core",
      "did-add-permissions.principle.core"
    ]
  }
}
